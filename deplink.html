<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CC Switch æ·±é“¾æ¥æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .version-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            margin-left: 8px;
            vertical-align: middle;
        }

        .link-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .link-card:hover {
            border-color: #3498db;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
            transform: translateY(-2px);
        }

        .link-card h3 {
            color: #2c3e50;
            font-size: 20px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .link-card .description {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .deep-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3);
        }

        .deep-link:hover {
            background: linear-gradient(135deg, #2980b9 0%, #1f6391 100%);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
            transform: translateY(-1px);
        }

        .deep-link:active {
            transform: translateY(0);
        }

        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 16px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .info-box h4 {
            color: #856404;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .info-box ul {
            list-style: disc;
            margin-left: 20px;
            color: #856404;
            font-size: 14px;
            line-height: 1.8;
            padding-left: 20px;
        }

        .generator-section {
            background: #e8f4f8;
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
        }

        .generator-section h2 {
            color: #2c3e50;
            margin-bottom: 24px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
        }

        .btn:hover {
            background: linear-gradient(135deg, #229954 0%, #1e8449 100%);
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.4);
            transform: translateY(-1px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result-box {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #3498db;
        }

        .result-box strong {
            color: #2c3e50;
            font-size: 16px;
        }

        .result-text {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            word-break: break-all;
            font-family: monospace;
            font-size: 13px;
            color: #2c3e50;
            border: 1px solid #dee2e6;
        }

        .btn-copy {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            margin-right: 10px;
        }

        .btn-copy:hover {
            background: linear-gradient(135deg, #8e44ad 0%, #7d3c98 100%);
        }

        .app-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-claude {
            background: #e8f4f8;
            color: #3498db;
        }

        .badge-codex {
            background: #fef5e7;
            color: #f39c12;
        }

        .badge-gemini {
            background: #fdeef4;
            color: #e91e63;
        }

        .param-list {
            background: #f8f9fa;
            border-left: 3px solid #3498db;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            font-size: 13px;
            line-height: 1.8;
            color: #495057;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
        }

        .param-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            margin-right: 6px;
            background: #3498db;
            color: white;
        }

        .param-tag.optional {
            background: #95a5a6;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }

            .content {
                padding: 20px;
            }

            .generator-section {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”— CC Switch æ·±é“¾æ¥æµ‹è¯•</h1>
            <p>ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æµ‹è¯•æ·±é“¾æ¥å¯¼å…¥åŠŸèƒ½</p>
        </div>

        <div class="content">

            <!-- é…ç½®æ–‡ä»¶å¯¼å…¥ç¤ºä¾‹ (v3.8+) -->
            <div class="section">
                <h2>ğŸ“¦ é…ç½®æ–‡ä»¶å¯¼å…¥ç¤ºä¾‹ <span class="version-badge">v3.8+</span></h2>

                <!-- Claude é…ç½®æ–‡ä»¶å¯¼å…¥ -->
                <div class="link-card">
                    <h3>
                        <span class="app-badge badge-claude">Claude</span>
                        å®Œæ•´ JSON é…ç½®å¯¼å…¥
                    </h3>
                    <p class="description">
                        é€šè¿‡ Base64 ç¼–ç çš„ JSON é…ç½®æ–‡ä»¶å¯¼å…¥å®Œæ•´é…ç½®ï¼ŒåŒ…å«æ‰€æœ‰å››ç§æ¨¡å‹å’Œç«¯ç‚¹ä¿¡æ¯ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> resource=provider, app=claude, name<br>
                        <span class="param-tag optional">å¯é€‰</span> <strong>config</strong> (Base64 JSON),
                        <strong>configFormat=json</strong>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=provider&app=claude&name=Claude%20Complete&configFormat=json&config=eyJlbnYiOnsiQU5USFJPUElDX0FVVEhfVE9LRU4iOiJzay1hbnQtdGVzdC1rZXkxMjMiLCJBTlRIUk9QSUNfQkFTRV9VUkwiOiJodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxIiwiQU5USFJPUElDX01PREVMIjoiY2xhdWRlLXNvbm5ldC00LjUiLCJBTlRIUk9QSUNfREVGQVVMVF9IQUlLVV9NT0RFTCI6ImNsYXVkZS1oYWlrdS00LjEiLCJBTlRIUk9QSUNfREVGQVVMVF9TT05ORVRfTU9ERUwiOiJjbGF1ZGUtc29ubmV0LTQuNSIsIkFOVEhST1BJQ19ERUZBVUxUX09QVVNfTU9ERUwiOiJjbGF1ZGUtb3B1cy00In19"
                            class="deep-link">
                            ğŸ“¥ å¯¼å…¥å®Œæ•´é…ç½®
                        </a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=provider&app=claude&name=Claude%20Complete&configFormat=json&config=eyJlbnYiOnsiQU5USFJPUElDX0FVVEhfVE9LRU4iOiJzay1hbnQtdGVzdC1rZXkxMjMiLCJBTlRIUk9QSUNfQkFTRV9VUkwiOiJodHRwczovL2FwaS5hbnRocm9waWMuY29tL3YxIiwiQU5USFJPUElDX01PREVMIjoiY2xhdWRlLXNvbm5ldC00LjUiLCJBTlRIUk9QSUNfREVGQVVMVF9IQUlLVV9NT0RFTCI6ImNsYXVkZS1oYWlrdS00LjEiLCJBTlRIUk9QSUNfREVGQVVMVF9TT05ORVRfTU9ERUwiOiJjbGF1ZGUtc29ubmV0LTQuNSIsIkFOVEhST1BJQ19ERUZBVUxUX09QVVNfTU9ERUwiOiJjbGF1ZGUtb3B1cy00In19', this)">
                            ğŸ“‹ å¤åˆ¶é“¾æ¥
                        </button>
                    </div>
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">// è§£ç åçš„é…ç½®å†…å®¹:</div>
                        {<br>
                        &nbsp;&nbsp;"env": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_AUTH_TOKEN": "sk-ant-test-key123",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_BASE_URL": "https://api.anthropic.com/v1",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_MODEL": "claude-sonnet-4.5",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_DEFAULT_HAIKU_MODEL": "claude-haiku-4.1",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_DEFAULT_SONNET_MODEL": "claude-sonnet-4.5",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_DEFAULT_OPUS_MODEL": "claude-opus-4"<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>

                <!-- URL å‚æ•°è¦†ç›–é…ç½®æ–‡ä»¶ -->
                <div class="link-card">
                    <h3>
                        <span class="app-badge badge-claude">Claude</span>
                        é…ç½® + URL å‚æ•°è¦†ç›–
                    </h3>
                    <p class="description">
                        é…ç½®æ–‡ä»¶æä¾›åŸºç¡€è®¾ç½®,URL å‚æ•°è¦†ç›– API Keyã€‚URL å‚æ•°ä¼˜å…ˆçº§æœ€é«˜ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> name, config<br>
                        <span class="param-tag optional">è¦†ç›–</span> <strong>apiKey</strong> (è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å€¼)
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=provider&app=claude&name=My%20Custom&apiKey=sk-ant-my-new-key&configFormat=json&config=eyJlbnYiOnsiQU5USFJPUElDX0JBU0VfVVJMIjoiaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MSIsIkFOVEhST1BJQ19NT0RFTCI6ImNsYXVkZS1zb25uZXQtNC41In19"
                            class="deep-link">
                            ğŸ“¥ å¯¼å…¥æ··åˆé…ç½®
                        </a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=provider&app=claude&name=My%20Custom&apiKey=sk-ant-my-new-key&configFormat=json&config=eyJlbnYiOnsiQU5USFJPUElDX0JBU0VfVVJMIjoiaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MSIsIkFOVEhST1BJQ19NT0RFTCI6ImNsYXVkZS1zb25uZXQtNC41In19', this)">
                            ğŸ“‹ å¤åˆ¶é“¾æ¥
                        </button>
                    </div>
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">// è§£ç åçš„é…ç½®å†…å®¹:</div>
                        {<br>
                        &nbsp;&nbsp;"env": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_BASE_URL": "https://api.anthropic.com/v1",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"ANTHROPIC_MODEL": "claude-sonnet-4.5"<br>
                        &nbsp;&nbsp;}<br>
                        }<br>
                        <div style="color: #f39c12; margin-top: 8px;">// URL å‚æ•°è¦†ç›–: apiKey=sk-ant-my-new-key</div>
                    </div>
                    <div
                        style="margin-top: 12px; padding: 10px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px; font-size: 13px;">
                        <strong>ä¼˜å…ˆçº§è§„åˆ™:</strong> URL å‚æ•° (apiKey) > é…ç½®æ–‡ä»¶ (endpoint, model)
                    </div>
                </div>

                <!-- Codex TOML é…ç½®å¯¼å…¥ -->
                <div class="link-card">
                    <h3>
                        <span class="app-badge badge-codex">Codex</span>
                        TOML æ ¼å¼é…ç½®å¯¼å…¥
                    </h3>
                    <p class="description">
                        Codex ä½¿ç”¨ TOML æ ¼å¼çš„é…ç½®æ–‡ä»¶,åŒ…å« auth å’Œ config ä¸¤éƒ¨åˆ†ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> name, config<br>
                        <span class="param-tag optional">å¯é€‰</span> <strong>configFormat=json</strong> (Codex é…ç½®ä¸º JSON
                        åŒ…è£…çš„ TOML)
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=provider&app=codex&name=OpenAI%20Complete&configFormat=json&config=eyJhdXRoIjp7Ik9QRU5BSV9BUElfS0VZIjoic2stcHJvai10ZXN0LWtleTEyMyJ9LCJjb25maWciOiJbbW9kZWxfcHJvdmlkZXJzLm9wZW5haV1cbmJhc2VfdXJsID0gXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCJcblxuW2dlbmVyYWxdXG5tb2RlbCA9IFwiZ3B0LTUuMVwiIn0="
                            class="deep-link">
                            ğŸ“¥ å¯¼å…¥ Codex é…ç½®
                        </a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=provider&app=codex&name=OpenAI%20Complete&configFormat=json&config=eyJhdXRoIjp7Ik9QRU5BSV9BUElfS0VZIjoic2stcHJvai10ZXN0LWtleTEyMyJ9LCJjb25maWciOiJbbW9kZWxfcHJvdmlkZXJzLm9wZW5haV1cbmJhc2VfdXJsID0gXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCJcblxuW2dlbmVyYWxdXG5tb2RlbCA9IFwiZ3B0LTUuMVwiIn0=', this)">
                            ğŸ“‹ å¤åˆ¶é“¾æ¥
                        </button>
                    </div>
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">// è§£ç åçš„é…ç½®å†…å®¹:</div>
                        {<br>
                        &nbsp;&nbsp;"auth": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"OPENAI_API_KEY": "sk-proj-test-key123"<br>
                        &nbsp;&nbsp;},<br>
                        &nbsp;&nbsp;"config": "[model_providers.openai]\nbase_url =
                        \"https://api.openai.com/v1\"\n\n[general]\nmodel = \"gpt-5.1\""<br>
                        }
                        <div style="color: #95a5a6; margin-top: 12px; margin-bottom: 4px;">// config å­—æ®µè§£æ (TOML):</div>
                        <div style="color: #a8d08d;">[model_providers.openai]</div>
                        <div style="color: #a8d08d;">base_url = "https://api.openai.com/v1"</div>
                        <div style="color: #a8d08d; margin-top: 8px;">[general]</div>
                        <div style="color: #a8d08d;">model = "gpt-5.1"</div>
                    </div>
                </div>

                <!-- Gemini é…ç½®å¯¼å…¥ -->
                <div class="link-card">
                    <h3>
                        <span class="app-badge badge-gemini">Gemini</span>
                        Gemini é…ç½®å¯¼å…¥
                    </h3>
                    <p class="description">
                        Gemini ä½¿ç”¨æ‰å¹³çš„ç¯å¢ƒå˜é‡æ ¼å¼,ç®€æ´æ˜äº†ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> name, config<br>
                        <span class="param-tag optional">å¯é€‰</span> <strong>configFormat=json</strong>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=provider&app=gemini&name=Google%20Gemini&configFormat=json&config=eyJHRU1JTklfQVBJX0tFWSI6IkFJemFTeUR0ZXN0a2V5MTIzIiwiR0VNSU5JX0JBU0VfVVJMIjoiaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhIiwiR0VNSU5JX01PREVMIjoiZ2VtaW5pLTMtcHJvLXByZXZpZXcifQ=="
                            class="deep-link">
                            ğŸ“¥ å¯¼å…¥ Gemini é…ç½®
                        </a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=provider&app=gemini&name=Google%20Gemini&configFormat=json&config=eyJHRU1JTklfQVBJX0tFWSI6IkFJemFTeUR0ZXN0a2V5MTIzIiwiR0VNSU5JX0JBU0VfVVJMIjoiaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhIiwiR0VNSU5JX01PREVMIjoiZ2VtaW5pLTMtcHJvLXByZXZpZXcifQ==', this)">
                            ğŸ“‹ å¤åˆ¶é“¾æ¥
                        </button>
                    </div>
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">// è§£ç åçš„é…ç½®å†…å®¹:</div>
                        {<br>
                        &nbsp;&nbsp;"GEMINI_API_KEY": "AIzaSyDtestkey123",<br>
                        &nbsp;&nbsp;"GEMINI_BASE_URL": "https://generativelanguage.googleapis.com/v1beta",<br>
                        &nbsp;&nbsp;"GEMINI_MODEL": "gemini-3-pro-preview"<br>
                        }
                    </div>
                </div>

            </div>

            <!-- MCPã€Promptã€Skill ç¤ºä¾‹ -->
            <div class="section">
                <h2>ğŸ”Œ MCP Servers å¯¼å…¥ <span class="version-badge">v3.8+</span></h2>

                <div class="link-card">
                    <h3>ğŸ“¦ğŸ“¦ JSON é…ç½®ç¤ºä¾‹ - æ‰¹é‡å¯¼å…¥å¤šä¸ª MCP Servers</h3>
                    <p class="description">
                        ä¸€æ¬¡æ€§å¯¼å…¥å¤šä¸ª MCP æœåŠ¡å™¨ (Context7 + Sequential-thinking)ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> resource=mcp, apps, config (Base64)<br>
                        <span class="param-tag optional">å¯é€‰</span> enabled
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=mcp&apps=claude,codex&config=eyJtY3BTZXJ2ZXJzIjp7ImNvbnRleHQ3Ijp7ImNvbW1hbmQiOiJidW54IiwiYXJncyI6WyIteSIsIkB1cHN0YXNoL2NvbnRleHQ3LW1jcCIsIi0tYXBpLWtleSIsImN0eDdzay00ZGRkNGY2Ni1lNzUyLTQwMjItYjFmNi1jOGNmNjI3OWI4MGQiXSwiZW52Ijp7fX0sInNlcXVlbnRpYWwtdGhpbmtpbmciOnsiY29tbWFuZCI6Im5weCIsImFyZ3MiOlsiLXkiLCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2VydmVyLXNlcXVlbnRpYWwtdGhpbmtpbmciXSwiZW52Ijp7fX19fQ==&enabled=true"
                            class="deep-link">ğŸ“¥ æ‰¹é‡å¯¼å…¥ 2 ä¸ª MCP Servers</a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=mcp&apps=claude,codex&config=eyJtY3BTZXJ2ZXJzIjp7ImNvbnRleHQ3Ijp7ImNvbW1hbmQiOiJidW54IiwiYXJncyI6WyIteSIsIkB1cHN0YXNoL2NvbnRleHQ3LW1jcCIsIi0tYXBpLWtleSIsImN0eDdzay00ZGRkNGY2Ni1lNzUyLTQwMjItYjFmNi1jOGNmNjI3OWI4MGQiXSwiZW52Ijp7fX0sInNlcXVlbnRpYWwtdGhpbmtpbmciOnsiY29tbWFuZCI6Im5weCIsImFyZ3MiOlsiLXkiLCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2VydmVyLXNlcXVlbnRpYWwtdGhpbmtpbmciXSwiZW52Ijp7fX19fQ==&enabled=true', this)">ğŸ“‹
                            å¤åˆ¶</button>
                    </div>

                    <!-- JSON é…ç½®å±•ç¤º -->
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">ğŸ“¦ æ‰¹é‡ MCP é…ç½® JSON:</div>
                        <pre style="margin: 0; color: #a8d08d; line-height: 1.6;">{
  "mcpServers": {
    "context7": {
      "command": "bunx",
      "args": [
        "-y",
        "@upstash/context7-mcp",
        "--api-key",
        "ctx7sk-4ddd4f66-e752-4022-b1f6-c8cf6279b80d"
      ],
      "env": {}
    },
    "sequential-thinking": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-sequential-thinking"
      ],
      "env": {}
    }
  }
}</pre>
                        <div style="color: #95a5a6; margin-top: 8px; padding-top: 8px; border-top: 1px solid #34495e;">
                            ğŸ’¡ <strong>æ‰¹é‡å¯¼å…¥è¯´æ˜</strong>: ä¸€æ¬¡æ€§å¯¼å…¥ 2 ä¸ª MCP æœåŠ¡å™¨<br>
                            ğŸ“¦ <strong>æœåŠ¡å™¨ 1</strong>: context7 - Upstash Context7 MCP æœåŠ¡å™¨<br>
                            ğŸ“¦ <strong>æœåŠ¡å™¨ 2</strong>: sequential-thinking - ç»“æ„åŒ–æ€ç»´æ¨ç†æœåŠ¡å™¨<br>
                            ğŸ¯ <strong>ç›®æ ‡åº”ç”¨</strong>: Claude å’Œ Codex<br>
                            ğŸ”„ <strong>æ™ºèƒ½åˆå¹¶</strong>: å¦‚æœæœåŠ¡å™¨å·²å­˜åœ¨ï¼Œåªæ›´æ–°åº”ç”¨å¯ç”¨çŠ¶æ€ï¼Œä¸è¦†ç›–é…ç½®
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prompt å¯¼å…¥ç¤ºä¾‹ -->
            <div class="section">
                <h2>ğŸ’¬ Prompt å¯¼å…¥ <span class="version-badge">v3.8+</span></h2>

                <div class="link-card">
                    <h3><span class="app-badge badge-claude">Claude</span> ä»£ç å®¡æŸ¥ä¸“å®¶</h3>
                    <p class="description">ä¸º Claude å¯¼å…¥ä»£ç å®¡æŸ¥æç¤ºè¯ã€‚</p>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=prompt&app=claude&name=ä»£ç å®¡æŸ¥ä¸“å®¶&content=IyDku6PnoIHlrqHmn6XkuJPlrrYKCuS9oOaYr+S4gOS9jeaciee7j+mqjOeahOS7o+eggeWuoeafpeWRmO+8jOivt+WcqOS7o+eggeWuoeafpeWbnuWkjeeahOaXtuWAmeWBmuWQr+S4i+OAgg==&description=ä¸“æ³¨ä»£ç è´¨é‡&enabled=true"
                            class="deep-link">ğŸ“¥ å¯¼å…¥</a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=prompt&app=claude&name=ä»£ç å®¡æŸ¥ä¸“å®¶&content=IyDku6PnoIHlrqHmn6XkuJPlrrYKCuS9oOaYr+S4gOS9jeaciee7j+mqjOeahOS7o+eggeWuoeafpeWRmO+8jOivt+WcqOS7o+eggeWuoeafpeWbnuWkjeeahOaXtuWAmeWBmuWQr+S4i+OAgg==&description=ä¸“æ³¨ä»£ç è´¨é‡&enabled=true', this)">ğŸ“‹
                            å¤åˆ¶</button>
                    </div>

                    <!-- å†…å®¹è§£é‡Š -->
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">ğŸ“ Prompt å†…å®¹:</div>
                        <div style="color: #a8d08d; white-space: pre-wrap; line-height: 1.6;"># ä»£ç å®¡æŸ¥ä¸“å®¶

                            ä½ æ˜¯ä¸€ä½æœ‰ç»éªŒçš„ä»£ç å®¡æŸ¥å‘˜ï¼Œè¯·åœ¨ä»£ç å®¡æŸ¥å›å¤çš„æ—¶å€™åšå¯ä¸‹ã€‚</div>
                        <div style="color: #95a5a6; margin-top: 12px; padding-top: 8px; border-top: 1px solid #34495e;">
                            â€¢ <strong>åº”ç”¨</strong>: Claude<br>
                            â€¢ <strong>æè¿°</strong>: ä¸“æ³¨ä»£ç è´¨é‡<br>
                            â€¢ <strong>çŠ¶æ€</strong>: å¯¼å…¥åç«‹å³å¯ç”¨
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skill å¯¼å…¥ç¤ºä¾‹ -->
            <div class="section">
                <h2>ğŸ› ï¸ Skill ä»“åº“å¯¼å…¥ <span class="version-badge">v3.8+</span></h2>

                <div class="link-card">
                    <h3>æ·»åŠ  Claude Skill ä»“åº“</h3>
                    <p class="description">
                        ä» GitHub ä»“åº“å¯¼å…¥ Claude Skillsï¼Œæ”¯æŒæŒ‡å®šåˆ†æ”¯å’Œå­ç›®å½•è·¯å¾„ã€‚
                    </p>
                    <div class="param-list">
                        <span class="param-tag">å¿…éœ€</span> resource=skill, repo (owner/name)<br>
                        <span class="param-tag optional">å¯é€‰</span> branch, skills_path, directory
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                        <a href="ccswitch://v1/import?resource=skill&repo=example/claude-skills&branch=main&skills_path=skills&directory=my-skills"
                            class="deep-link">
                            ğŸ“¥ å¯¼å…¥ Skill ä»“åº“ç¤ºä¾‹
                        </a>
                        <button class="deep-link"
                            style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); cursor: pointer; border: none;"
                            onclick="copyDeepLink('ccswitch://v1/import?resource=skill&repo=example/claude-skills&branch=main&skills_path=skills&directory=my-skills', this)">
                            ğŸ“‹ å¤åˆ¶é“¾æ¥
                        </button>
                    </div>

                    <!-- å†…å®¹è§£é‡Š -->
                    <div class="code-block"
                        style="margin-top: 12px; padding: 12px; background: #2c3e50; color: #ecf0f1; border-radius: 8px; font-family: monospace; font-size: 12px; overflow-x: auto;">
                        <div style="color: #95a5a6; margin-bottom: 8px;">ğŸ—‚ï¸ å°†æ·»åŠ ä»¥ä¸‹ Skill ä»“åº“:</div>
                        <div style="color: #52c41a; margin-bottom: 4px;">â€¢ <strong>GitHub ä»“åº“</strong>:
                            example/claude-skills</div>
                        <div style="color: #a8d08d; margin-bottom: 4px;">â€¢ <strong>åˆ†æ”¯</strong>: main (é»˜è®¤åˆ†æ”¯)</div>
                        <div style="color: #a8d08d; margin-bottom: 4px;">â€¢ <strong>Skills è·¯å¾„</strong>: skills
                            (ä»“åº“ä¸­æŠ€èƒ½æ–‡ä»¶æ‰€åœ¨çš„å­ç›®å½•)</div>
                        <div style="color: #a8d08d; margin-bottom: 4px;">â€¢ <strong>æœ¬åœ°ç›®å½•</strong>: my-skills (å…‹éš†åˆ°æœ¬åœ°çš„ç›®å½•å)
                        </div>
                        <div style="color: #95a5a6; margin-top: 12px; padding-top: 8px; border-top: 1px solid #34495e;">
                            ğŸ’¡ <strong>è¯´æ˜</strong>: æ­¤æ“ä½œä¼šæŠŠä»“åº“æ·»åŠ åˆ° Skill åˆ—è¡¨ä¸­ã€‚æ·»åŠ åï¼Œæ‚¨å¯ä»¥åœ¨ Skills ç®¡ç†ç•Œé¢é€‰æ‹©å®‰è£…å…·ä½“çš„æŠ€èƒ½æ–‡ä»¶ã€‚<br>
                            ğŸ”§ <strong>åº”ç”¨</strong>: Claude (Skills åŠŸèƒ½ä»…æ”¯æŒ Claude)
                        </div>
                    </div>
                </div>
            </div>

            <!--  æ·±é“¾æ¥ç”Ÿæˆå™¨ -->
            <div class="section">
                <h2>ğŸš€ æ·±é“¾æ¥ç”Ÿæˆå™¨</h2>
                <p style="color: #7f8c8d; margin-bottom: 24px;">
                    å¡«å†™å‚æ•°ä¿¡æ¯ï¼Œè‡ªåŠ¨ç”Ÿæˆæ·±é“¾æ¥å¹¶å¯¼å…¥åˆ° CC Switch
                </p>
                <!-- MCP Servers ç”Ÿæˆå™¨ -->
                <div class="generator-section">
                    <h3 style="color: #2c3e50; margin-bottom: 16px;">ğŸ”Œ MCP Servers å¯¼å…¥ç”Ÿæˆå™¨</h3>

                    <div class="form-group">
                        <label>ç›®æ ‡åº”ç”¨ *</label>
                        <input type="text" id="mcpApps" placeholder="ä¾‹å¦‚: claude,codex,gemini æˆ– claude" />
                        <small style="color: #7f8c8d;">å¤šä¸ªåº”ç”¨ç”¨é€—å·åˆ†éš”</small>
                    </div>

                    <div class="form-group">
                        <label>MCP é…ç½® (JSON) *</label>
                        <textarea id="mcpConfig" rows="8" placeholder='{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-xxx"],
      "type": "stdio"
    }
  }
}'></textarea>
                        <small style="color: #7f8c8d;">å®Œæ•´çš„ MCP é…ç½® JSON</small>
                    </div>

                    <div class="form-group">
                        <label>æ˜¯å¦å¯ç”¨</label>
                        <select id="mcpEnabled">
                            <option value="true">æ˜¯ (enabled=true)</option>
                            <option value="false">å¦ (enabled=false)</option>
                        </select>
                    </div>

                    <button class="btn" onclick="generateMcpLink()">ğŸ¯ ç”Ÿæˆ MCP æ·±é“¾æ¥</button>

                    <div id="mcpResult" class="result-section" style="display: none;">
                        <label>ç”Ÿæˆçš„æ·±é“¾æ¥ï¼š</label>
                        <div class="result-url" id="mcpUrl" onclick="selectText(this)"></div>
                        <div style="display: flex; gap: 10px; margin-top: 12px;">
                            <button class="btn" onclick="copyGeneratedLink('mcpUrl')">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
                            <a id="mcpImportBtn" class="btn"
                                style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); text-decoration: none;">
                                ğŸ“¥ ç«‹å³å¯¼å…¥
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Prompt ç”Ÿæˆå™¨ -->
                <div class="generator-section">
                    <h3 style="color: #2c3e50; margin-bottom: 16px;">ğŸ’¬ Prompt å¯¼å…¥ç”Ÿæˆå™¨</h3>

                    <div class="form-group">
                        <label>ç›®æ ‡åº”ç”¨ *</label>
                        <select id="promptApp">
                            <option value="claude">Claude</option>
                            <option value="codex">Codex</option>
                            <option value="gemini">Gemini</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>æç¤ºè¯åç§° *</label>
                        <input type="text" id="promptName" placeholder="ä¾‹å¦‚: ä»£ç å®¡æŸ¥ä¸“å®¶" />
                    </div>

                    <div class="form-group">
                        <label>æç¤ºè¯å†…å®¹ *</label>
                        <textarea id="promptContent" rows="6" placeholder="# è§’è‰²å®šä¹‰

ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„..."></textarea>
                        <small style="color: #7f8c8d;">æ”¯æŒ Markdown æ ¼å¼ï¼Œè‡ªåŠ¨ Base64 ç¼–ç </small>
                    </div>

                    <div class="form-group">
                        <label>æè¿°</label>
                        <input type="text" id="promptDescription" placeholder="ä¾‹å¦‚: ä¸“æ³¨ä»£ç è´¨é‡" />
                    </div>

                    <div class="form-group">
                        <label>å¯¼å…¥åæ˜¯å¦å¯ç”¨</label>
                        <select id="promptEnabled">
                            <option value="true">æ˜¯ (å°†ç¦ç”¨å…¶ä»–æç¤ºè¯)</option>
                            <option value="false">å¦ (ä¿æŒç¦ç”¨çŠ¶æ€)</option>
                        </select>
                    </div>

                    <button class="btn" onclick="generatePromptLink()">ğŸ¯ ç”Ÿæˆ Prompt æ·±é“¾æ¥</button>

                    <div id="promptResult" class="result-section" style="display: none;">
                        <label>ç”Ÿæˆçš„æ·±é“¾æ¥ï¼š</label>
                        <div class="result-url" id="promptUrl" onclick="selectText(this)"></div>
                        <div style="display: flex; gap: 10px; margin-top: 12px;">
                            <button class="btn" onclick="copyGeneratedLink('promptUrl')">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
                            <a id="promptImportBtn" class="btn"
                                style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); text-decoration: none;">
                                ğŸ“¥ ç«‹å³å¯¼å…¥
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Skill ç”Ÿæˆå™¨ -->
                <div class="generator-section">
                    <h3 style="color: #2c3e50; margin-bottom: 16px;">ğŸ› ï¸ Skill ä»“åº“å¯¼å…¥ç”Ÿæˆå™¨</h3>

                    <div class="form-group">
                        <label>GitHub ä»“åº“ *</label>
                        <input type="text" id="skillRepo" placeholder="ä¾‹å¦‚: owner/repo-name" />
                        <small style="color: #7f8c8d;">æ ¼å¼: æ‰€æœ‰è€…/ä»“åº“å</small>
                    </div>

                    <div class="form-group">
                        <label>åˆ†æ”¯</label>
                        <input type="text" id="skillBranch" placeholder="main" value="main" />
                    </div>

                    <div class="form-group">
                        <label>Skills è·¯å¾„</label>
                        <input type="text" id="skillPath" placeholder="skills" value="skills" />
                        <small style="color: #7f8c8d;">ä»“åº“ä¸­æŠ€èƒ½æ–‡ä»¶æ‰€åœ¨çš„å­ç›®å½•</small>
                    </div>

                    <div class="form-group">
                        <label>æœ¬åœ°ç›®å½•å</label>
                        <input type="text" id="skillDirectory" placeholder="my-skills" />
                        <small style="color: #7f8c8d;">å…‹éš†åˆ°æœ¬åœ°çš„ç›®å½•åï¼ˆå¯é€‰ï¼‰</small>
                    </div>

                    <button class="btn" onclick="generateSkillLink()">ğŸ¯ ç”Ÿæˆ Skill æ·±é“¾æ¥</button>

                    <div id="skillResult" class="result-section" style="display: none;">
                        <label>ç”Ÿæˆçš„æ·±é“¾æ¥ï¼š</label>
                        <div class="result-url" id="skillUrl" onclick="selectText(this)"></div>
                        <div style="display: flex; gap: 10px; margin-top: 12px;">
                            <button class="btn" onclick="copyGeneratedLink('skillUrl')">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
                            <a id="skillImportBtn" class="btn"
                                style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%); text-decoration: none;">
                                ğŸ“¥ ç«‹å³å¯¼å…¥
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Base64 ç¼–è§£ç å™¨ -->
            <div class="section">
                <h2>ğŸ” Base64 ç¼–è§£ç å™¨</h2>

                <div class="generator-section" style="background: #f5f5f5; border: 2px solid #95a5a6;">
                    <h3 style="color: #2c3e50; margin-bottom: 16px;">ç¼–ç å™¨ (UTF-8 â†’ Base64)</h3>
                    <div class="form-group">
                        <label>åŸå§‹å†…å®¹ï¼ˆUTF-8 æ–‡æœ¬ï¼‰</label>
                        <textarea id="encodeInput" rows="6" placeholder="è¾“å…¥è¦ç¼–ç çš„æ–‡æœ¬...&#10;æ”¯æŒä¸­æ–‡ã€JSONã€TOML ç­‰æ‰€æœ‰ UTF-8 å­—ç¬¦"
                            style="font-family: monospace; font-size: 13px;"></textarea>
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);"
                        onclick="encodeToBase64()">
                        ğŸ”’ ç¼–ç ä¸º Base64
                    </button>
                    <div id="encodeResult" style="display: none;" class="result-box">
                        <strong>âœ… ç¼–ç ç»“æœï¼š</strong>
                        <div class="result-text" id="encodeOutput"></div>
                        <button class="btn btn-copy" onclick="copyEncoded()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
                        <small style="color: #7f8c8d; display: block; margin-top: 8px;">
                            ğŸ’¡ å¯ç›´æ¥ç”¨äºæ·±é“¾æ¥çš„ config æˆ– content å‚æ•°
                        </small>
                    </div>
                </div>

                <div class="generator-section"
                    style="background: #f0f9ff; border: 2px solid #3498db; margin-top: 24px;">
                    <h3 style="color: #2c3e50; margin-bottom: 16px;">è§£ç å™¨ (Base64 â†’ UTF-8)</h3>
                    <div class="form-group">
                        <label>Base64 ç¼–ç å†…å®¹</label>
                        <textarea id="decodeInput" rows="6"
                            placeholder="ç²˜è´´ Base64 ç¼–ç çš„æ–‡æœ¬...&#10;ä¾‹å¦‚: eyJlbnYiOnsiaGVsbG8iOiJ3b3JsZCJ9fQ=="
                            style="font-family: monospace; font-size: 13px;"></textarea>
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%);"
                        onclick="decodeFromBase64()">
                        ğŸ”“ è§£ç ä¸ºæ–‡æœ¬
                    </button>
                    <div id="decodeResult" style="display: none;" class="result-box">
                        <strong>âœ… è§£ç ç»“æœï¼š</strong>
                        <div class="result-text" id="decodeOutput" style="white-space: pre-wrap;"></div>
                        <button class="btn btn-copy" onclick="copyDecoded()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
                        <div id="jsonFormat" style="display: none; margin-top: 12px;">
                            <button class="btn" style="background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);"
                                onclick="formatJson()">
                                âœ¨ æ ¼å¼åŒ– JSON
                            </button>
                        </div>
                    </div>
                </div>

                <div class="info-box" style="margin-top: 24px; background: #e8f4f8; border-left: 4px solid #3498db;">
                    <h4 style="color: #2c3e50;">ğŸ’¡ ä½¿ç”¨å»ºè®®</h4>
                    <ul style="color: #2c3e50;">
                        <li><strong>ç¼–ç é…ç½®æ–‡ä»¶</strong>ï¼šå°† JSON æˆ– TOML å†…å®¹ç¼–ç åç”¨äº config å‚æ•°</li>
                        <li><strong>ç¼–ç  Prompt</strong>ï¼šå°† Markdown æç¤ºè¯å†…å®¹ç¼–ç åç”¨äº content å‚æ•°</li>
                        <li><strong>éªŒè¯æ·±é“¾æ¥</strong>ï¼šè§£ç éªŒè¯æ·±é“¾æ¥ä¸­çš„é…ç½®å†…å®¹æ˜¯å¦æ­£ç¡®</li>
                        <li><strong>UTF-8 æ”¯æŒ</strong>ï¼šå®Œæ•´æ”¯æŒä¸­æ–‡åŠå…¶ä»– Unicode å­—ç¬¦</li>
                    </ul>
                </div>
            </div>

            <!-- æ³¨æ„äº‹é¡¹ -->
            <div class="info-box">
                <h4>âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹</h4>
                <ul>
                    <li><strong>é¦–æ¬¡ç‚¹å‡»</strong>ï¼šæµè§ˆå™¨ä¼šè¯¢é—®æ˜¯å¦å…è®¸æ‰“å¼€ CC Switchï¼Œè¯·ç‚¹å‡»"å…è®¸"æˆ–"æ‰“å¼€"</li>
                    <li><strong>macOS ç”¨æˆ·</strong>ï¼šå¯èƒ½éœ€è¦åœ¨"ç³»ç»Ÿè®¾ç½®" â†’ "éšç§ä¸å®‰å…¨æ€§"ä¸­å…è®¸åº”ç”¨</li>
                    <li><strong>æµ‹è¯• API Key</strong>ï¼šç¤ºä¾‹ä¸­çš„ API Key ä»…ç”¨äºæµ‹è¯•æ ¼å¼ï¼Œæ— æ³•å®é™…ä½¿ç”¨</li>
                    <li><strong>å¯¼å…¥ç¡®è®¤</strong>ï¼šç‚¹å‡»é“¾æ¥åä¼šå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†ï¼ŒAPI Key ä¼šè¢«æ©ç æ˜¾ç¤ºï¼ˆå‰4ä½+****ï¼‰</li>
                    <li><strong>ç¼–è¾‘é…ç½®</strong>ï¼šå¯¼å…¥åå¯ä»¥åœ¨ CC Switch ä¸­éšæ—¶ç¼–è¾‘æˆ–åˆ é™¤é…ç½®</li>
                </ul>
            </div>

            <!-- æ·±é“¾æ¥è§£æå™¨ -->
            <div class="generator-section" style="background: #f0f9ff; border: 2px solid #3498db;">
                <h2>ğŸ” æ·±é“¾æ¥è§£æå™¨</h2>
                <p style="color: #7f8c8d; margin-bottom: 24px;">ç²˜è´´æ·±é“¾æ¥ URLï¼ŒæŸ¥çœ‹è§£æç»“æœ</p>

                <div class="form-group">
                    <label>æ·±é“¾æ¥ URL</label>
                    <textarea id="parseUrl" rows="3" placeholder="ç²˜è´´å®Œæ•´çš„ ccswitch:// æ·±é“¾æ¥..."
                        style="font-family: monospace; font-size: 13px;"></textarea>
                </div>

                <button class="btn" style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);"
                    onclick="parseDeepLink()">
                    ğŸ” è§£ææ·±é“¾æ¥
                </button>

                <!-- è§£æç»“æœ -->
                <div id="parseResult" style="display: none;">
                    <div class="result-box" style="margin-top: 20px;">
                        <strong>âœ… è§£æç»“æœï¼š</strong>

                        <!-- åŸºæœ¬ä¿¡æ¯ -->
                        <div id="parseBasicInfo" style="margin-top: 16px;"></div>

                        <!-- URL å‚æ•° -->
                        <div id="parseUrlParams" style="margin-top: 16px;"></div>

                        <!-- é…ç½®æ–‡ä»¶è§£æ -->
                        <div id="parseConfigContent" style="margin-top: 16px;"></div>
                    </div>
                </div>
            </div>

            <!-- æ·±é“¾æ¥ç”Ÿæˆå™¨ -->
            <div class="generator-section">
                <h2>ğŸ› ï¸ æ·±é“¾æ¥ç”Ÿæˆå™¨</h2>
                <p style="color: #7f8c8d; margin-bottom: 24px;">å¡«å†™ä¸‹æ–¹è¡¨å•ï¼Œç”Ÿæˆæ‚¨è‡ªå·±çš„æ·±é“¾æ¥</p>

                <!-- å¯¼å…¥æ¨¡å¼åˆ‡æ¢ -->
                <div class="form-group">
                    <label>å¯¼å…¥æ¨¡å¼</label>
                    <select id="importMode" onchange="toggleImportMode()">
                        <option value="url">URL å‚æ•°æ¨¡å¼ï¼ˆä¼ ç»Ÿï¼‰</option>
                        <option value="config">é…ç½®æ–‡ä»¶æ¨¡å¼ï¼ˆv3.8+ï¼‰</option>
                    </select>
                    <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                        URL å‚æ•°æ¨¡å¼ï¼šç›´æ¥åœ¨ URL ä¸­ä¼ é€’å‚æ•° | é…ç½®æ–‡ä»¶æ¨¡å¼ï¼šä½¿ç”¨ Base64 ç¼–ç çš„ JSON/TOML
                    </small>
                </div>

                <div class="form-group">
                    <label>åº”ç”¨ç±»å‹ *</label>
                    <select id="app" onchange="updateModelFields()">
                        <option value="claude">Claude Code</option>
                        <option value="codex">Codex</option>
                        <option value="gemini">Gemini</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ä¾›åº”å•†åç§° *</label>
                    <input type="text" id="name" placeholder="ä¾‹å¦‚: Claude Official">
                    <small style="color: #e74c3c; font-size: 12px; display: block; margin-top: 4px;">
                        âš ï¸ å”¯ä¸€å¿…å¡«é¡¹
                    </small>
                </div>

                <!-- URL å‚æ•°æ¨¡å¼å­—æ®µ -->
                <div id="urlModeFields">
                    <div class="form-group">
                        <label>å®˜ç½‘åœ°å€</label>
                        <input type="url" id="homepage" placeholder="https://example.comï¼ˆå¯é€‰ï¼Œé…ç½®æ–‡ä»¶æ¨¡å¼å¯è‡ªåŠ¨æ¨æ–­ï¼‰">
                    </div>

                    <div class="form-group">
                        <label>API ç«¯ç‚¹</label>
                        <input type="url" id="endpoint" placeholder="https://api.example.com/v1ï¼ˆé…ç½®æ–‡ä»¶æ¨¡å¼å¯ä»é…ç½®æå–ï¼‰">
                        <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                            ä¸» API ç«¯ç‚¹åœ°å€
                        </small>
                    </div>

                    <div class="form-group">
                        <label>å¤‡ç”¨ API ç«¯ç‚¹ï¼ˆå¯é€‰ï¼Œé€—å·åˆ†éš”ï¼‰</label>
                        <input type="text" id="extraEndpoints" placeholder="https://api2.example.com/v1, https://api3.example.com/v1">
                        <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                            å¤šä¸ªå¤‡ç”¨ç«¯ç‚¹ç”¨é€—å·åˆ†éš”ï¼Œå¯¼å…¥åè‡ªåŠ¨æ·»åŠ ä¸ºè‡ªå®šä¹‰ç«¯ç‚¹
                        </small>
                    </div>

                    <div class="form-group">
                        <label>API Key</label>
                        <input type="text" id="apiKey" placeholder="sk-xxxxx æˆ– AIzaSyXXXXXï¼ˆé…ç½®æ–‡ä»¶æ¨¡å¼å¯ä»é…ç½®æå–ï¼‰">
                    </div>
                </div>

                <!-- é…ç½®æ–‡ä»¶æ¨¡å¼å­—æ®µ -->
                <div id="configModeFields" style="display: none;">
                    <!-- é€šç”¨/Claude/Gemini JSON é…ç½® -->
                    <div id="generalConfigGroup" class="form-group">
                        <label id="configJsonLabel">é…ç½®æ–‡ä»¶å†…å®¹ï¼ˆJSONï¼‰</label>
                        <textarea id="configJson" rows="12"
                            placeholder='è¾“å…¥ JSON é…ç½®ï¼Œä¾‹å¦‚ï¼š&#10;{&#10;  "env": {&#10;    "ANTHROPIC_AUTH_TOKEN": "sk-ant-xxx",&#10;    "ANTHROPIC_BASE_URL": "https://api.anthropic.com/v1",&#10;    "ANTHROPIC_MODEL": "claude-sonnet-4.5"&#10;  }&#10;}'></textarea>
                        <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                            é…ç½®æ–‡ä»¶å°†è‡ªåŠ¨è¿›è¡Œ Base64 ç¼–ç 
                        </small>
                    </div>

                    <!-- Codex ä¸“ç”¨é…ç½®å­—æ®µ -->
                    <div id="codexConfigGroup" style="display: none;">
                        <div class="form-group">
                            <label>Codex è®¤è¯ä¿¡æ¯ (JSON)</label>
                            <textarea id="codexAuthJson" rows="5"
                                placeholder='{&#10;  "auth": {&#10;    "OPENAI_API_KEY": "sk-..."&#10;  }&#10;}'></textarea>
                            <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                                åŒ…å« API Key çš„è®¤è¯ä¿¡æ¯ JSON å¯¹è±¡
                            </small>
                        </div>
                        <div class="form-group">
                            <label>Codex é…ç½®æ–‡ä»¶ (TOML)</label>
                            <textarea id="codexConfigToml" rows="10"
                                placeholder='[model_providers.openai]&#10;base_url = "..."&#10;&#10;[general]&#10;model = "..."'
                                style="font-family: monospace;"></textarea>
                            <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                                config.toml çš„åŸå§‹å†…å®¹
                            </small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>URL å‚æ•°è¦†ç›–ï¼ˆå¯é€‰ï¼‰</label>
                        <div style="background: #fff3cd; padding: 12px; border-radius: 8px; margin-bottom: 8px;">
                            <p style="font-size: 12px; color: #856404; margin: 0;">
                                ğŸ’¡ å¯ä»¥åœ¨ä¸‹æ–¹å¡«å†™ API Keyã€ç«¯ç‚¹ç­‰å‚æ•°æ¥è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ã€‚ç•™ç©ºåˆ™å®Œå…¨ä½¿ç”¨é…ç½®æ–‡ä»¶ã€‚
                            </p>
                        </div>
                        <input type="text" id="overrideApiKey" placeholder="è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„ API Keyï¼ˆå¯é€‰ï¼‰">
                        <input type="url" id="overrideEndpoint" placeholder="è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰" style="margin-top: 8px;">
                    </div>
                </div>

                <div class="form-group">
                    <label>é»˜è®¤æ¨¡å‹ï¼ˆå¯é€‰ï¼‰</label>
                    <input type="text" id="model" placeholder="ä¾‹å¦‚: claude-haiku-4.1, gpt-5.1, gemini-3-pro-preview">
                    <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                        é€šç”¨æ¨¡å‹å­—æ®µï¼Œé€‚ç”¨äºæ‰€æœ‰åº”ç”¨ç±»å‹
                    </small>
                </div>

                <!-- Claude ä¸“ç”¨å­—æ®µ -->
                <div id="claudeFields" style="display: block;">
                    <div style="background: #e8f4f8; padding: 16px; border-radius: 8px; margin: 16px 0;">
                        <h4 style="color: #2c3e50; margin-bottom: 12px; font-size: 14px;">
                            ğŸ“‹ Claude ä¸“ç”¨æ¨¡å‹å­—æ®µï¼ˆå¯é€‰ï¼‰
                        </h4>
                        <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 12px;">
                            å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®ç‰¹å®šçš„æ¨¡å‹å­—æ®µï¼Œè¿™äº›å­—æ®µä»…åœ¨ Claude åº”ç”¨ä¸­ç”Ÿæ•ˆ
                        </p>

                        <div class="form-group">
                            <label>Haiku æ¨¡å‹</label>
                            <input type="text" id="haikuModel" placeholder="claude-haiku-4.1">
                            <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                                å¯¹åº”ç¯å¢ƒå˜é‡ï¼šANTHROPIC_DEFAULT_HAIKU_MODEL
                            </small>
                        </div>

                        <div class="form-group">
                            <label>Sonnet æ¨¡å‹</label>
                            <input type="text" id="sonnetModel" placeholder="claude-sonnet-4.5">
                            <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                                å¯¹åº”ç¯å¢ƒå˜é‡ï¼šANTHROPIC_DEFAULT_SONNET_MODEL
                            </small>
                        </div>

                        <div class="form-group">
                            <label>Opus æ¨¡å‹</label>
                            <input type="text" id="opusModel" placeholder="claude-opus-4">
                            <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                                å¯¹åº”ç¯å¢ƒå˜é‡ï¼šANTHROPIC_DEFAULT_OPUS_MODEL
                            </small>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>å›¾æ ‡ï¼ˆå¯é€‰ï¼‰</label>
                    <input type="text" id="icon" placeholder="ä¾‹å¦‚: openai, anthropic, google">
                    <small style="color: #7f8c8d; font-size: 12px; display: block; margin-top: 4px;">
                        å›¾æ ‡åç§°ï¼Œç”¨äºåœ¨ç•Œé¢ä¸­æ˜¾ç¤º
                    </small>
                </div>

                <div class="form-group">
                    <label>å¯¼å…¥åæ˜¯å¦è®¾ä¸ºå½“å‰ä¾›åº”å•†</label>
                    <select id="enabled">
                        <option value="true">æ˜¯ (ç«‹å³åˆ‡æ¢åˆ°æ­¤ä¾›åº”å•†)</option>
                        <option value="false">å¦ (ä»…æ·»åŠ ï¼Œä¸åˆ‡æ¢)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰</label>
                    <textarea id="notes" rows="2" placeholder="ä¾‹å¦‚: å…¬å¸ä¸“ç”¨è´¦å·"></textarea>
                </div>

                <!-- ç”¨é‡æŸ¥è¯¢é…ç½® (v3.9+) -->
                <div style="background: #f0fff4; padding: 16px; border-radius: 8px; margin: 16px 0; border: 2px solid #27ae60;">
                    <h4 style="color: #27ae60; margin-bottom: 12px; font-size: 14px;">
                        ğŸ“Š ç”¨é‡æŸ¥è¯¢é…ç½®ï¼ˆv3.9+ï¼Œå¯é€‰ï¼‰
                    </h4>
                    <p style="color: #7f8c8d; font-size: 12px; margin-bottom: 12px;">
                        é…ç½®ç”¨é‡æŸ¥è¯¢è„šæœ¬ï¼Œå¯è‡ªåŠ¨æŸ¥è¯¢ API ä½™é¢
                    </p>

                    <div class="form-group">
                        <label>å¯ç”¨ç”¨é‡æŸ¥è¯¢</label>
                        <select id="usageEnabled">
                            <option value="">ä¸é…ç½®</option>
                            <option value="true">å¯ç”¨</option>
                            <option value="false">ç¦ç”¨</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ç”¨é‡æŸ¥è¯¢ Base URL</label>
                        <input type="url" id="usageBaseUrl" placeholder="https://example.comï¼ˆç”¨äºç”¨é‡æŸ¥è¯¢çš„åŸºç¡€ URLï¼‰">
                        <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                            ç”¨é‡æŸ¥è¯¢æ¥å£çš„åŸºç¡€åœ°å€ï¼Œå¿…é¡»ä¸è„šæœ¬ä¸­çš„è¯·æ±‚ URL åŒæº
                        </small>
                    </div>

                    <div class="form-group">
                        <label>ç”¨é‡æŸ¥è¯¢ä¸“ç”¨ API Keyï¼ˆå¯é€‰ï¼‰</label>
                        <input type="text" id="usageApiKey" placeholder="ç•™ç©ºåˆ™ä½¿ç”¨ä¾›åº”å•†çš„ API Key">
                    </div>

                    <div class="form-group">
                        <label>ç”¨é‡æŸ¥è¯¢è„šæœ¬</label>
                        <textarea id="usageScript" rows="12" style="font-family: monospace; font-size: 12px;"
                            placeholder='({
  request: {
    url: "{{baseUrl}}/api/v1/user/subscription-info",
    method: "GET",
    headers: { "Authorization": "{{apiKey}}" }
  },
  extractor: function(response) {
    const data = typeof response === "string" ? JSON.parse(response) : response;
    return {
      isValid: true,
      remaining: data.balance ?? 0,
      unit: "USD"
    };
  }
})'></textarea>
                        <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                            æ”¯æŒæ¨¡æ¿å˜é‡ï¼š{{baseUrl}}ã€{{apiKey}}ã€{{accessToken}}ã€{{userId}}
                        </small>
                    </div>

                    <div class="form-group">
                        <label>è‡ªåŠ¨æŸ¥è¯¢é—´éš”ï¼ˆåˆ†é’Ÿï¼‰</label>
                        <input type="number" id="usageAutoInterval" placeholder="30" min="0">
                        <small style="color: #7f8c8d; font-size: 11px; display: block; margin-top: 4px;">
                            0 è¡¨ç¤ºç¦ç”¨è‡ªåŠ¨æŸ¥è¯¢
                        </small>
                    </div>

                    <div class="form-group">
                        <label>Access Tokenï¼ˆå¯é€‰ï¼‰</label>
                        <input type="text" id="usageAccessToken" placeholder="æŸäº› API éœ€è¦çš„è®¿é—®ä»¤ç‰Œ">
                    </div>

                    <div class="form-group">
                        <label>User IDï¼ˆå¯é€‰ï¼‰</label>
                        <input type="text" id="usageUserId" placeholder="æŸäº› API éœ€è¦çš„ç”¨æˆ· ID">
                    </div>
                </div>

                <button class="btn" onclick="generateLink()">ğŸš€ ç”Ÿæˆæ·±é“¾æ¥</button>

                <div id="result" style="display: none;">
                    <div class="result-box">
                        <strong>âœ… ç”Ÿæˆçš„æ·±é“¾æ¥ï¼š</strong>
                        <div class="result-text" id="linkText"></div>
                        <button class="btn btn-copy" onclick="copyLink()">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
                        <a id="testLink" class="deep-link" style="text-decoration: none;">
                            ğŸ§ª æµ‹è¯•é“¾æ¥
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // UTF-8 å­—ç¬¦ä¸²è½¬ Base64
        function utf8_to_b64(str) {
            try {
                const bytes = new TextEncoder().encode(str);
                const binString = Array.from(bytes, (byte) => String.fromCharCode(byte)).join("");
                return btoa(binString);
            } catch (e) {
                console.error("Base64 encode error:", e);
                return window.btoa(unescape(encodeURIComponent(str)));
            }
        }

        // Base64 è½¬ UTF-8 å­—ç¬¦ä¸²
        function b64_to_utf8(str) {
            try {
                const binString = atob(str);
                const bytes = Uint8Array.from(binString, (m) => m.codePointAt(0));
                return new TextDecoder().decode(bytes);
            } catch (e) {
                console.error("Base64 decode error:", e);
                return decodeURIComponent(escape(window.atob(str)));
            }
        }

        // åˆ‡æ¢å¯¼å…¥æ¨¡å¼
        function toggleImportMode() {
            const mode = document.getElementById('importMode').value;
            const urlFields = document.getElementById('urlModeFields');
            const configFields = document.getElementById('configModeFields');

            if (mode === 'url') {
                urlFields.style.display = 'block';
                configFields.style.display = 'none';
            } else {
                urlFields.style.display = 'none';
                configFields.style.display = 'block';
                // å½“åˆ‡æ¢åˆ°é…ç½®æ–‡ä»¶æ¨¡å¼æ—¶ï¼Œè‡ªåŠ¨å¡«å……ç¤ºä¾‹é…ç½®
                populateConfigTemplate();
            }
        }

        // ... (rest of the functions) ...

        // æ ¹æ®åº”ç”¨ç±»å‹å¡«å……é…ç½®æ¨¡æ¿
        function populateConfigTemplate() {
            const app = document.getElementById('app').value;
            const configTextarea = document.getElementById('configJson');
            const codexAuthTextarea = document.getElementById('codexAuthJson');
            const codexConfigTextarea = document.getElementById('codexConfigToml');

            let template = '';

            if (app === 'claude') {
                template = `{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-ant-your-api-key-here",
    "ANTHROPIC_BASE_URL": "https://api.anthropic.com/v1",
    "ANTHROPIC_MODEL": "claude-sonnet-4.5",
    "ANTHROPIC_DEFAULT_HAIKU_MODEL": "claude-haiku-4.1",
    "ANTHROPIC_DEFAULT_SONNET_MODEL": "claude-sonnet-4.5",
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "claude-opus-4"
  }
}`;
                configTextarea.value = template;
            } else if (app === 'codex') {
                // Codex åˆ†å¼€å¡«å……
                codexAuthTextarea.value = `{
  "auth": {
    "OPENAI_API_KEY": "sk-proj-your-api-key-here"
  }
}`;
                codexConfigTextarea.value = `model_provider = "custom"
model = "gpt-5.1"
model_reasoning_effort = "high"
disable_response_storage = true

[model_providers.custom]
name = "custom"
base_url = "https://api.openai.com/v1"
wire_api = "responses"
requires_openai_auth = true`;
            } else if (app === 'gemini') {
                template = `{
  "GEMINI_API_KEY": "AIzaSy-your-api-key-here",
  "GEMINI_BASE_URL": "https://generativelanguage.googleapis.com/v1beta",
  "GEMINI_MODEL": "gemini-3-pro-preview"
}`;
                configTextarea.value = template;
            }
        }

        // æ›´æ–°æ¨¡å‹å­—æ®µæ˜¾ç¤º
        function updateModelFields() {
            const app = document.getElementById('app').value;
            const claudeFields = document.getElementById('claudeFields');
            const generalConfigGroup = document.getElementById('generalConfigGroup');
            const codexConfigGroup = document.getElementById('codexConfigGroup');
            const mode = document.getElementById('importMode').value;

            // Claude å­—æ®µæ˜¾ç¤ºæ§åˆ¶
            if (app === 'claude') {
                claudeFields.style.display = 'block';
            } else {
                claudeFields.style.display = 'none';
            }

            // é…ç½®æ–‡ä»¶è¾“å…¥æ¡†æ§åˆ¶
            if (mode === 'config') {
                if (app === 'codex') {
                    generalConfigGroup.style.display = 'none';
                    codexConfigGroup.style.display = 'block';
                } else {
                    generalConfigGroup.style.display = 'block';
                    codexConfigGroup.style.display = 'none';
                }
                populateConfigTemplate();
            }
        }

        function generateLink() {
            const mode = document.getElementById('importMode').value;
            const app = document.getElementById('app').value;
            const name = document.getElementById('name').value.trim();

            // éªŒè¯å¿…å¡«å­—æ®µï¼ˆåªæœ‰åç§°æ˜¯å¿…å¡«çš„ï¼‰
            if (!name) {
                alert('âŒ è¯·å¡«å†™ä¾›åº”å•†åç§°ï¼');
                return;
            }

            // æ„å»ºåŸºç¡€å‚æ•°
            const params = new URLSearchParams({
                resource: 'provider',
                app: app,
                name: name
            });

            if (mode === 'url') {
                // URL å‚æ•°æ¨¡å¼
                const homepage = document.getElementById('homepage').value.trim();
                const endpoint = document.getElementById('endpoint').value.trim();
                const apiKey = document.getElementById('apiKey').value.trim();
                const model = document.getElementById('model').value.trim();
                const icon = document.getElementById('icon').value.trim();
                const enabled = document.getElementById('enabled').value;
                const notes = document.getElementById('notes').value.trim();

                // Claude ä¸“ç”¨å­—æ®µ
                const haikuModel = document.getElementById('haikuModel').value.trim();
                const sonnetModel = document.getElementById('sonnetModel').value.trim();
                const opusModel = document.getElementById('opusModel').value.trim();

                // URL æ¨¡å¼ä¸‹ï¼Œè‡³å°‘éœ€è¦ endpoint å’Œ apiKey
                if (!endpoint || !apiKey) {
                    alert('âŒ URL å‚æ•°æ¨¡å¼ä¸‹ï¼Œç«¯ç‚¹å’Œ API Key æ˜¯å¿…å¡«çš„ï¼');
                    return;
                }

                // éªŒè¯ URL æ ¼å¼
                if (homepage) {
                    try {
                        new URL(homepage);
                    } catch (e) {
                        alert('âŒ è¯·è¾“å…¥æœ‰æ•ˆçš„å®˜ç½‘ URL æ ¼å¼ï¼ˆéœ€åŒ…å« http:// æˆ– https://ï¼‰ï¼');
                        return;
                    }
                }

                try {
                    new URL(endpoint);
                } catch (e) {
                    alert('âŒ è¯·è¾“å…¥æœ‰æ•ˆçš„ç«¯ç‚¹ URL æ ¼å¼ï¼ˆéœ€åŒ…å« http:// æˆ– https://ï¼‰ï¼');
                    return;
                }

                // æ·»åŠ å‚æ•°
                if (homepage) params.append('homepage', homepage);

                // åˆå¹¶ä¸»ç«¯ç‚¹å’Œå¤‡ç”¨ç«¯ç‚¹
                const extraEndpoints = document.getElementById('extraEndpoints').value.trim();
                let fullEndpoint = endpoint;
                if (extraEndpoints) {
                    const extras = extraEndpoints.split(',').map(e => e.trim()).filter(e => e);
                    if (extras.length > 0) {
                        fullEndpoint = endpoint + ',' + extras.join(',');
                    }
                }
                params.append('endpoint', fullEndpoint);

                params.append('apiKey', apiKey);
                if (model) params.append('model', model);
                if (icon) params.append('icon', icon);
                if (enabled) params.append('enabled', enabled);
                if (notes) params.append('notes', notes);

                // æ·»åŠ  Claude ä¸“ç”¨æ¨¡å‹å­—æ®µ
                if (app === 'claude') {
                    if (haikuModel) params.append('haikuModel', haikuModel);
                    if (sonnetModel) params.append('sonnetModel', sonnetModel);
                    if (opusModel) params.append('opusModel', opusModel);
                }
            } else {
                // é…ç½®æ–‡ä»¶æ¨¡å¼
                let configJson = '';

                if (app === 'codex') {
                    // Codex ç‰¹æ®Šå¤„ç†ï¼šåˆå¹¶ Auth JSON å’Œ Config TOML
                    const authJson = document.getElementById('codexAuthJson').value.trim();
                    const configToml = document.getElementById('codexConfigToml').value.trim();

                    if (!authJson) {
                        alert('âŒ è¯·å¡«å†™ Codex è®¤è¯ä¿¡æ¯ (JSON)ï¼');
                        return;
                    }
                    if (!configToml) {
                        alert('âŒ è¯·å¡«å†™ Codex é…ç½®æ–‡ä»¶ (TOML)ï¼');
                        return;
                    }

                    try {
                        const authObj = JSON.parse(authJson);
                        // æ„é€ æœ€ç»ˆå¯¹è±¡
                        const finalObj = {
                            ...authObj,
                            config: configToml
                        };
                        configJson = JSON.stringify(finalObj);
                    } catch (e) {
                        alert('âŒ Codex è®¤è¯ä¿¡æ¯ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼š' + e.message);
                        return;
                    }
                } else {
                    // å…¶ä»–åº”ç”¨ä½¿ç”¨é€šç”¨ JSON è¾“å…¥æ¡†
                    configJson = document.getElementById('configJson').value.trim();
                    if (!configJson) {
                        alert('âŒ é…ç½®æ–‡ä»¶æ¨¡å¼ä¸‹ï¼Œè¯·å¡«å†™é…ç½®æ–‡ä»¶å†…å®¹ï¼');
                        return;
                    }
                    // éªŒè¯ JSON æ ¼å¼
                    try {
                        JSON.parse(configJson);
                    } catch (e) {
                        alert('âŒ é…ç½®æ–‡ä»¶ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼š' + e.message);
                        return;
                    }
                }

                const overrideApiKey = document.getElementById('overrideApiKey').value.trim();
                const overrideEndpoint = document.getElementById('overrideEndpoint').value.trim();
                const model = document.getElementById('model').value.trim();
                const icon = document.getElementById('icon').value.trim();
                const enabled = document.getElementById('enabled').value;
                const notes = document.getElementById('notes').value.trim();

                // Claude ä¸“ç”¨å­—æ®µ
                const haikuModel = document.getElementById('haikuModel').value.trim();
                const sonnetModel = document.getElementById('sonnetModel').value.trim();
                const opusModel = document.getElementById('opusModel').value.trim();

                // Base64 ç¼–ç é…ç½®æ–‡ä»¶
                const configB64 = utf8_to_b64(configJson);
                params.append('config', configB64);
                params.append('configFormat', 'json');

                // æ·»åŠ è¦†ç›–å‚æ•°
                if (overrideApiKey) params.append('apiKey', overrideApiKey);
                if (overrideEndpoint) {
                    try {
                        new URL(overrideEndpoint);
                        params.append('endpoint', overrideEndpoint);
                    } catch (e) {
                        alert('âŒ è¦†ç›–ç«¯ç‚¹ URL æ ¼å¼æ— æ•ˆï¼');
                        return;
                    }
                }

                if (model) params.append('model', model);
                if (icon) params.append('icon', icon);
                if (enabled) params.append('enabled', enabled);
                if (notes) params.append('notes', notes);

                // æ·»åŠ  Claude ä¸“ç”¨æ¨¡å‹å­—æ®µ
                if (app === 'claude') {
                    if (haikuModel) params.append('haikuModel', haikuModel);
                    if (sonnetModel) params.append('sonnetModel', sonnetModel);
                    if (opusModel) params.append('opusModel', opusModel);
                }
            }

            // æ·»åŠ ç”¨é‡æŸ¥è¯¢å‚æ•° (v3.9+)
            const usageEnabled = document.getElementById('usageEnabled').value;
            const usageBaseUrl = document.getElementById('usageBaseUrl').value.trim();
            const usageApiKey = document.getElementById('usageApiKey').value.trim();
            const usageScript = document.getElementById('usageScript').value.trim();
            const usageAutoInterval = document.getElementById('usageAutoInterval').value.trim();
            const usageAccessToken = document.getElementById('usageAccessToken').value.trim();
            const usageUserId = document.getElementById('usageUserId').value.trim();

            if (usageEnabled) params.append('usageEnabled', usageEnabled);
            if (usageBaseUrl) params.append('usageBaseUrl', usageBaseUrl);
            if (usageApiKey) params.append('usageApiKey', usageApiKey);
            if (usageScript) {
                // URL-safe Base64 ç¼–ç 
                const scriptB64 = utf8_to_b64(usageScript)
                    .replace(/\+/g, '-')
                    .replace(/\//g, '_')
                    .replace(/=+$/, '');
                params.append('usageScript', scriptB64);
            }
            if (usageAutoInterval) params.append('usageAutoInterval', usageAutoInterval);
            if (usageAccessToken) params.append('usageAccessToken', usageAccessToken);
            if (usageUserId) params.append('usageUserId', usageUserId);

            const deepLink = `ccswitch://v1/import?${params.toString()}`;

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('linkText').textContent = deepLink;
            document.getElementById('testLink').href = deepLink;
            document.getElementById('result').style.display = 'block';

            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('result').scrollIntoView({
                behavior: 'smooth',
                block: 'nearest'
            });
        }

        function copyLink() {
            const linkText = document.getElementById('linkText').textContent;

            navigator.clipboard.writeText(linkText).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²å¤åˆ¶ï¼';
                btn.style.background = 'linear-gradient(135deg, #27ae60 0%, #229954 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥');
            });
        }

        // å¤åˆ¶æ·±é“¾æ¥
        function copyDeepLink(url, button) {
            navigator.clipboard.writeText(url).then(() => {
                const originalText = button.textContent;
                button.textContent = 'âœ… å·²å¤åˆ¶ï¼';
                button.style.background = 'linear-gradient(135deg, #27ae60 0%, #229954 100%)';

                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥');
            });
        }

        // æ·±é“¾æ¥è§£æå™¨
        function parseDeepLink() {
            const urlInput = document.getElementById('parseUrl').value.trim();

            if (!urlInput) {
                alert('âŒ è¯·è¾“å…¥æ·±é“¾æ¥ URLï¼');
                return;
            }

            try {
                // è§£æ URL
                const url = new URL(urlInput);

                // éªŒè¯åè®®
                if (url.protocol !== 'ccswitch:') {
                    alert('âŒ æ— æ•ˆçš„æ·±é“¾æ¥åè®®ï¼å¿…é¡»ä»¥ ccswitch:// å¼€å¤´');
                    return;
                }

                // æå–ç‰ˆæœ¬å’Œè·¯å¾„
                const version = url.hostname;
                const path = url.pathname;

                // è§£ææŸ¥è¯¢å‚æ•°
                const params = new URLSearchParams(url.search);
                const paramsObj = {};
                params.forEach((value, key) => {
                    paramsObj[key] = value;
                });

                // æ„å»ºåŸºæœ¬ä¿¡æ¯ HTML
                let basicInfoHtml = `
                    <div style="background: #e8f4f8; padding: 16px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h4 style="margin-bottom: 12px; color: #2c3e50;">ğŸ“‹ åŸºæœ¬ä¿¡æ¯</h4>
                        <div style="display: grid; grid-template-columns: 120px 1fr; gap: 8px; font-size: 14px;">
                            <div style="color: #7f8c8d;">åè®®ç‰ˆæœ¬:</div>
                            <div style="font-weight: 600; color: #2c3e50;">${version}</div>
                            <div style="color: #7f8c8d;">è·¯å¾„:</div>
                            <div style="font-weight: 600; color: #2c3e50;">${path}</div>
                            <div style="color: #7f8c8d;">èµ„æºç±»å‹:</div>
                            <div style="font-weight: 600; color: #2c3e50;">${paramsObj.resource || '-'}</div>
                            <div style="color: #7f8c8d;">åº”ç”¨ç±»å‹:</div>
                            <div style="font-weight: 600; color: #2c3e50; text-transform: capitalize;">${paramsObj.app || '-'}</div>
                            <div style="color: #7f8c8d;">ä¾›åº”å•†åç§°:</div>
                            <div style="font-weight: 600; color: #2c3e50;">${paramsObj.name || '-'}</div>
                        </div>
                    </div>
                `;

                // æ„å»º URL å‚æ•° HTML
                let urlParamsHtml = `
                    <div style="background: #fff3cd; padding: 16px; border-radius: 8px; border-left: 4px solid #ffc107;">
                        <h4 style="margin-bottom: 12px; color: #856404;">ğŸ”— URL å‚æ•°</h4>
                        <div style="display: grid; grid-template-columns: 150px 1fr; gap: 8px; font-size: 13px;">
                `;

                // å¸¸è§„å‚æ•°ï¼ˆæ’é™¤ endpointï¼Œå•ç‹¬å¤„ç†ï¼‰
                const regularParams = ['homepage', 'apiKey', 'model', 'notes'];
                regularParams.forEach(key => {
                    if (paramsObj[key]) {
                        let displayValue = paramsObj[key];
                        // API Key æ©ç å¤„ç†
                        if (key === 'apiKey') {
                            displayValue = displayValue.substring(0, 10) + '****';
                        }
                        urlParamsHtml += `
                            <div style="color: #856404; font-weight: 500;">${key}:</div>
                            <div style="color: #856404; word-break: break-all; font-family: monospace; font-size: 12px;">${displayValue}</div>
                        `;
                    }
                });

                // å•ç‹¬å¤„ç† endpointï¼ˆæ”¯æŒå¤šç«¯ç‚¹ï¼‰
                if (paramsObj.endpoint) {
                    const endpoints = paramsObj.endpoint.split(',').map(e => e.trim()).filter(e => e);
                    if (endpoints.length === 1) {
                        // å•ä¸ªç«¯ç‚¹
                        urlParamsHtml += `
                            <div style="color: #856404; font-weight: 500;">endpoint:</div>
                            <div style="color: #856404; word-break: break-all; font-family: monospace; font-size: 12px;">${endpoints[0]}</div>
                        `;
                    } else {
                        // å¤šä¸ªç«¯ç‚¹
                        urlParamsHtml += `
                            <div style="color: #856404; font-weight: 500;">endpoints:</div>
                            <div style="color: #856404; word-break: break-all; font-family: monospace; font-size: 12px;">
                        `;
                        endpoints.forEach((ep, idx) => {
                            const label = idx === 0 ? 'ğŸ”¹ ä¸»ç«¯ç‚¹' : `â”” å¤‡ç”¨ ${idx}`;
                            urlParamsHtml += `
                                <div style="margin-bottom: 4px; ${idx === 0 ? 'font-weight: 600;' : 'color: #a08040;'}">
                                    ${label}: ${ep}
                                </div>
                            `;
                        });
                        urlParamsHtml += `
                                <div style="margin-top: 8px; padding: 6px 10px; background: #fff8e1; border-radius: 4px; font-size: 11px; color: #856404;">
                                    ğŸ’¡ å…± ${endpoints.length} ä¸ªç«¯ç‚¹ï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»ç«¯ç‚¹ï¼Œå…¶ä½™ä¸ºå¤‡ç”¨ç«¯ç‚¹
                                </div>
                            </div>
                        `;
                    }
                }

                // Claude ä¸“ç”¨æ¨¡å‹å‚æ•°
                const claudeModelParams = ['haikuModel', 'sonnetModel', 'opusModel'];
                claudeModelParams.forEach(key => {
                    if (paramsObj[key]) {
                        urlParamsHtml += `
                            <div style="color: #856404; font-weight: 500;">${key}:</div>
                            <div style="color: #856404; word-break: break-all; font-family: monospace; font-size: 12px;">${paramsObj[key]}</div>
                        `;
                    }
                });

                urlParamsHtml += '</div></div>';

                // é…ç½®æ–‡ä»¶è§£æ
                let configHtml = '';
                if (paramsObj.config) {
                    try {
                        // è§£ç  Base64
                        const decoded = b64_to_utf8(paramsObj.config);
                        const configObj = JSON.parse(decoded);

                        configHtml = `
                            <div style="background: #d1ecf1; padding: 16px; border-radius: 8px; border-left: 4px solid #17a2b8;">
                                <h4 style="margin-bottom: 12px; color: #0c5460;">ğŸ“„ é…ç½®æ–‡ä»¶å†…å®¹ (${paramsObj.configFormat?.toUpperCase() || 'JSON'})</h4>
                        `;

                        // æ ¹æ®åº”ç”¨ç±»å‹è§£æé…ç½®
                        if (paramsObj.app === 'claude') {
                            const env = configObj.env || {};
                            configHtml += `
                                <div style="background: #fff; padding: 12px; border-radius: 6px; margin-bottom: 12px;">
                                    <div style="font-size: 12px; color: #0c5460; margin-bottom: 8px; font-weight: 600;">Claude ç¯å¢ƒå˜é‡:</div>
                                    <div style="display: grid; grid-template-columns: 250px 1fr; gap: 6px; font-size: 12px; font-family: monospace;">
                            `;
                            Object.keys(env).forEach(key => {
                                let value = env[key];
                                if (key.includes('TOKEN') || key.includes('KEY')) {
                                    value = value.substring(0, 10) + '****';
                                }
                                configHtml += `
                                    <div style="color: #0c5460; font-weight: 500;">${key}:</div>
                                    <div style="color: #0c5460;">${value}</div>
                                `;
                            });
                            configHtml += '</div></div>';
                        } else if (paramsObj.app === 'codex') {
                            const auth = configObj.auth || {};
                            const config = configObj.config || '';

                            configHtml += `
                                <div style="background: #fff; padding: 12px; border-radius: 6px; margin-bottom: 12px;">
                                    <div style="font-size: 12px; color: #0c5460; margin-bottom: 8px; font-weight: 600;">Codex è®¤è¯ä¿¡æ¯:</div>
                                    <div style="display: grid; grid-template-columns: 200px 1fr; gap: 6px; font-size: 12px; font-family: monospace;">
                            `;
                            Object.keys(auth).forEach(key => {
                                let value = auth[key];
                                if (key.includes('KEY')) {
                                    value = value.substring(0, 10) + '****';
                                }
                                configHtml += `
                                    <div style="color: #0c5460; font-weight: 500;">${key}:</div>
                                    <div style="color: #0c5460;">${value}</div>
                                `;
                            });
                            configHtml += '</div></div>';

                            if (config) {
                                configHtml += `
                                    <div style="background: #fff; padding: 12px; border-radius: 6px;">
                                        <div style="font-size: 12px; color: #0c5460; margin-bottom: 8px; font-weight: 600;">TOML é…ç½®:</div>
                                        <pre style="margin: 0; font-size: 11px; color: #0c5460; white-space: pre-wrap; word-break: break-all;">${config}</pre>
                                    </div>
                                `;
                            }
                        } else if (paramsObj.app === 'gemini') {
                            configHtml += `
                                <div style="background: #fff; padding: 12px; border-radius: 6px;">
                                    <div style="font-size: 12px; color: #0c5460; margin-bottom: 8px; font-weight: 600;">Gemini ç¯å¢ƒå˜é‡:</div>
                                    <div style="display: grid; grid-template-columns: 200px 1fr; gap: 6px; font-size: 12px; font-family: monospace;">
                            `;
                            Object.keys(configObj).forEach(key => {
                                let value = configObj[key];
                                if (key.includes('KEY')) {
                                    value = value.substring(0, 10) + '****';
                                }
                                configHtml += `
                                    <div style="color: #0c5460; font-weight: 500;">${key}:</div>
                                    <div style="color: #0c5460;">${value}</div>
                                `;
                            });
                            configHtml += '</div></div>';
                        }

                        // åŸå§‹ JSON
                        configHtml += `
                            <details style="margin-top: 12px;">
                                <summary style="cursor: pointer; color: #0c5460; font-size: 12px; font-weight: 600;">æŸ¥çœ‹åŸå§‹ JSON â†’</summary>
                                <pre style="margin-top: 8px; padding: 12px; background: #f8f9fa; border-radius: 6px; font-size: 11px; overflow-x: auto; border: 1px solid #dee2e6;">${JSON.stringify(configObj, null, 2)}</pre>
                            </details>
                        `;

                        configHtml += '</div>';
                    } catch (e) {
                        configHtml = `
                            <div style="background: #f8d7da; padding: 16px; border-radius: 8px; border-left: 4px solid #dc3545;">
                                <h4 style="margin-bottom: 8px; color: #721c24;">âŒ é…ç½®æ–‡ä»¶è§£æå¤±è´¥</h4>
                                <div style="color: #721c24; font-size: 13px;">${e.message}</div>
                            </div>
                        `;
                    }
                }

                // ç”¨é‡æŸ¥è¯¢é…ç½®è§£æ (v3.9+)
                let usageHtml = '';
                if (paramsObj.usageEnabled || paramsObj.usageScript || paramsObj.usageBaseUrl) {
                    usageHtml = `
                        <div style="background: #f0fff4; padding: 16px; border-radius: 8px; border-left: 4px solid #27ae60; margin-top: 16px;">
                            <h4 style="margin-bottom: 12px; color: #27ae60;">ğŸ“Š ç”¨é‡æŸ¥è¯¢é…ç½® (v3.9+)</h4>
                            <div style="display: grid; grid-template-columns: 150px 1fr; gap: 8px; font-size: 13px;">
                    `;

                    if (paramsObj.usageEnabled) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">å¯ç”¨çŠ¶æ€:</div>
                            <div style="color: #27ae60;">${paramsObj.usageEnabled === 'true' ? 'âœ… å·²å¯ç”¨' : 'âŒ å·²ç¦ç”¨'}</div>
                        `;
                    }

                    if (paramsObj.usageBaseUrl) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">Base URL:</div>
                            <div style="color: #27ae60; word-break: break-all; font-family: monospace; font-size: 12px;">${paramsObj.usageBaseUrl}</div>
                        `;
                    }

                    if (paramsObj.usageApiKey) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">API Key:</div>
                            <div style="color: #27ae60; font-family: monospace; font-size: 12px;">${paramsObj.usageApiKey.substring(0, 10)}****</div>
                        `;
                    }

                    if (paramsObj.usageAutoInterval) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">è‡ªåŠ¨æŸ¥è¯¢é—´éš”:</div>
                            <div style="color: #27ae60;">${paramsObj.usageAutoInterval} åˆ†é’Ÿ</div>
                        `;
                    }

                    if (paramsObj.usageAccessToken) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">Access Token:</div>
                            <div style="color: #27ae60; font-family: monospace; font-size: 12px;">${paramsObj.usageAccessToken.substring(0, 10)}****</div>
                        `;
                    }

                    if (paramsObj.usageUserId) {
                        usageHtml += `
                            <div style="color: #27ae60; font-weight: 500;">User ID:</div>
                            <div style="color: #27ae60; font-family: monospace; font-size: 12px;">${paramsObj.usageUserId}</div>
                        `;
                    }

                    usageHtml += '</div>';

                    // è§£æç”¨é‡è„šæœ¬
                    if (paramsObj.usageScript) {
                        try {
                            // URL-safe Base64 è§£ç 
                            let scriptB64 = paramsObj.usageScript
                                .replace(/-/g, '+')
                                .replace(/_/g, '/');
                            // è¡¥é½ padding
                            while (scriptB64.length % 4) {
                                scriptB64 += '=';
                            }
                            const scriptContent = b64_to_utf8(scriptB64);
                            usageHtml += `
                                <div style="margin-top: 12px;">
                                    <div style="font-size: 12px; color: #27ae60; margin-bottom: 8px; font-weight: 600;">ç”¨é‡æŸ¥è¯¢è„šæœ¬:</div>
                                    <pre style="margin: 0; padding: 12px; background: #fff; border-radius: 6px; font-size: 11px; overflow-x: auto; white-space: pre-wrap; word-break: break-all; border: 1px solid #27ae60;">${scriptContent}</pre>
                                </div>
                            `;
                        } catch (e) {
                            usageHtml += `
                                <div style="margin-top: 12px; color: #dc3545; font-size: 12px;">
                                    âš ï¸ è„šæœ¬è§£ç å¤±è´¥: ${e.message}
                                </div>
                            `;
                        }
                    }

                    usageHtml += '</div>';
                }

                // æ˜¾ç¤ºç»“æœ
                document.getElementById('parseBasicInfo').innerHTML = basicInfoHtml;
                document.getElementById('parseUrlParams').innerHTML = urlParamsHtml;
                document.getElementById('parseConfigContent').innerHTML = configHtml + usageHtml;
                document.getElementById('parseResult').style.display = 'block';

                // æ»šåŠ¨åˆ°ç»“æœ
                document.getElementById('parseResult').scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });

            } catch (e) {
                alert('âŒ æ·±é“¾æ¥è§£æå¤±è´¥ï¼š' + e.message);
                console.error('Parse error:', e);
            }
        }

        // é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º
        document.addEventListener('DOMContentLoaded', function () {
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('keypress', function (e) {
                    if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                        generateLink();
                    }
                });
            });

            // åˆå§‹åŒ–æ˜¾ç¤º Claude å­—æ®µ
            updateModelFields();
        });

        // Base64 ç¼–ç åŠŸèƒ½
        function encodeToBase64() {
            const input = document.getElementById('encodeInput').value;

            if (!input.trim()) {
                alert('âŒ è¯·è¾“å…¥è¦ç¼–ç çš„å†…å®¹ï¼');
                return;
            }

            try {
                const encoded = utf8_to_b64(input);
                document.getElementById('encodeOutput').textContent = encoded;
                document.getElementById('encodeResult').style.display = 'block';

                // æ»šåŠ¨åˆ°ç»“æœ
                document.getElementById('encodeResult').scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });
            } catch (e) {
                alert('âŒ ç¼–ç å¤±è´¥ï¼š' + e.message);
                console.error('Encode error:', e);
            }
        }

        // Base64 è§£ç åŠŸèƒ½
        function decodeFromBase64() {
            const input = document.getElementById('decodeInput').value.trim();

            if (!input) {
                alert('âŒ è¯·è¾“å…¥è¦è§£ç çš„ Base64 å†…å®¹ï¼');
                return;
            }

            try {
                const decoded = b64_to_utf8(input);
                document.getElementById('decodeOutput').textContent = decoded;
                document.getElementById('decodeResult').style.display = 'block';

                // æ£€æŸ¥æ˜¯å¦æ˜¯ JSONï¼Œå¦‚æœæ˜¯åˆ™æ˜¾ç¤ºæ ¼å¼åŒ–æŒ‰é’®
                try {
                    JSON.parse(decoded);
                    document.getElementById('jsonFormat').style.display = 'block';
                } catch {
                    document.getElementById('jsonFormat').style.display = 'none';
                }

                // æ»šåŠ¨åˆ°ç»“æœ
                document.getElementById('decodeResult').scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });
            } catch (e) {
                alert('âŒ è§£ç å¤±è´¥ï¼š' + e.message + '\n\nè¯·ç¡®ä¿è¾“å…¥çš„æ˜¯æœ‰æ•ˆçš„ Base64 ç¼–ç ');
                console.error('Decode error:', e);
            }
        }

        // æ ¼å¼åŒ– JSON
        function formatJson() {
            try {
                const text = document.getElementById('decodeOutput').textContent;
                const obj = JSON.parse(text);
                const formatted = JSON.stringify(obj, null, 2);
                document.getElementById('decodeOutput').textContent = formatted;
            } catch (e) {
                alert('âŒ JSON æ ¼å¼åŒ–å¤±è´¥ï¼š' + e.message);
            }
        }

        // å¤åˆ¶ç¼–ç ç»“æœ
        function copyEncoded() {
            const text = document.getElementById('encodeOutput').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²å¤åˆ¶ï¼';
                btn.style.background = 'linear-gradient(135deg, #27ae60 0%, #229954 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        // å¤åˆ¶è§£ç ç»“æœ
        function copyDecoded() {
            const text = document.getElementById('decodeOutput').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²å¤åˆ¶ï¼';
                btn.style.background = 'linear-gradient(135deg, #27ae60 0%, #229954 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        // ==================== æ·±é“¾æ¥ç”Ÿæˆå™¨å‡½æ•° ====================

        // ç”Ÿæˆä¾›åº”å•†æ·±é“¾æ¥
        function generateProviderLink() {
            const app = document.getElementById('providerApp').value;
            const name = document.getElementById('providerName').value.trim();
            const apiKey = document.getElementById('providerApiKey').value.trim();
            const endpoint = document.getElementById('providerEndpoint').value.trim();
            const homepage = document.getElementById('providerHomepage').value.trim();
            const model = document.getElementById('providerModel').value.trim();
            const notes = document.getElementById('providerNotes').value.trim();
            const enabled = document.getElementById('providerEnabled').value;

            // éªŒè¯å¿…å¡«å­—æ®µ
            if (!name) {
                alert('âŒ è¯·å¡«å†™ä¾›åº”å•†åç§°');
                return;
            }

            if (!apiKey) {
                alert('âŒ è¯·å¡«å†™ API Key');
                return;
            }

            if (!endpoint) {
                alert('âŒ è¯·å¡«å†™ API Endpoint');
                return;
            }

            if (!homepage) {
                alert('âŒ è¯·å¡«å†™ä¸»é¡µé“¾æ¥');
                return;
            }

            // æ„å»ºæ·±é“¾æ¥
            let url = `ccswitch://v1/import?resource=provider&app=${app}&name=${encodeURIComponent(name)}&endpoint=${encodeURIComponent(endpoint)}&homepage=${encodeURIComponent(homepage)}&apiKey=${encodeURIComponent(apiKey)}`;

            if (model) {
                url += `&model=${encodeURIComponent(model)}`;
            }

            if (notes) {
                url += `&notes=${encodeURIComponent(notes)}`;
            }

            if (enabled === 'true') {
                url += '&enabled=true';
            }

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('providerUrl').textContent = url;
            document.getElementById('providerImportBtn').href = url;
            document.getElementById('providerResult').style.display = 'block';

            // æ»šåŠ¨åˆ°ç»“æœ
            document.getElementById('providerResult').scrollIntoView({
                behavior: 'smooth',
                block: 'nearest'
            });
        }

        // ç”Ÿæˆ MCP æ·±é“¾æ¥
        function generateMcpLink() {
            const apps = document.getElementById('mcpApps').value.trim();
            const config = document.getElementById('mcpConfig').value.trim();
            const enabled = document.getElementById('mcpEnabled').value;

            if (!apps) {
                alert('âŒ è¯·å¡«å†™ç›®æ ‡åº”ç”¨');
                return;
            }

            if (!config) {
                alert('âŒ è¯·å¡«å†™ MCP é…ç½®');
                return;
            }

            try {
                // éªŒè¯ JSON æ ¼å¼
                const jsonObj = JSON.parse(config);
                if (!jsonObj.mcpServers) {
                    alert('âŒ é…ç½®å¿…é¡»åŒ…å« mcpServers å­—æ®µ');
                    return;
                }

                // Base64 ç¼–ç é…ç½®
                const configB64 = utf8_to_b64(config);

                // æ„å»ºæ·±é“¾æ¥
                let url = `ccswitch://v1/import?resource=mcp&apps=${encodeURIComponent(apps)}&config=${encodeURIComponent(configB64)}`;

                if (enabled === 'true') {
                    url += '&enabled=true';
                }

                // æ˜¾ç¤ºç»“æœ
                document.getElementById('mcpUrl').textContent = url;
                document.getElementById('mcpImportBtn').href = url;
                document.getElementById('mcpResult').style.display = 'block';

                // æ»šåŠ¨åˆ°ç»“æœ
                document.getElementById('mcpResult').scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest'
                });
            } catch (e) {
                alert('âŒ JSON æ ¼å¼é”™è¯¯ï¼š' + e.message);
            }
        }

        // ç”Ÿæˆ Prompt æ·±é“¾æ¥
        function generatePromptLink() {
            const app = document.getElementById('promptApp').value;
            const name = document.getElementById('promptName').value.trim();
            const content = document.getElementById('promptContent').value.trim();
            const description = document.getElementById('promptDescription').value.trim();
            const enabled = document.getElementById('promptEnabled').value;

            if (!name) {
                alert('âŒ è¯·å¡«å†™æç¤ºè¯åç§°');
                return;
            }

            if (!content) {
                alert('âŒ è¯·å¡«å†™æç¤ºè¯å†…å®¹');
                return;
            }

            // Base64 ç¼–ç å†…å®¹
            const contentB64 = utf8_to_b64(content);

            // æ„å»ºæ·±é“¾æ¥
            let url = `ccswitch://v1/import?resource=prompt&app=${app}&name=${encodeURIComponent(name)}&content=${encodeURIComponent(contentB64)}`;

            if (description) {
                url += `&description=${encodeURIComponent(description)}`;
            }

            if (enabled === 'true') {
                url += '&enabled=true';
            }

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('promptUrl').textContent = url;
            document.getElementById('promptImportBtn').href = url;
            document.getElementById('promptResult').style.display = 'block';

            // æ»šåŠ¨åˆ°ç»“æœ
            document.getElementById('promptResult').scrollIntoView({
                behavior: 'smooth',
                block: 'nearest'
            });
        }

        // ç”Ÿæˆ Skill æ·±é“¾æ¥
        function generateSkillLink() {
            const repo = document.getElementById('skillRepo').value.trim();
            const branch = document.getElementById('skillBranch').value.trim() || 'main';
            const skillsPath = document.getElementById('skillPath').value.trim() || 'skills';
            const directory = document.getElementById('skillDirectory').value.trim();

            if (!repo) {
                alert('âŒ è¯·å¡«å†™ GitHub ä»“åº“');
                return;
            }

            // éªŒè¯ä»“åº“æ ¼å¼
            if (!repo.includes('/')) {
                alert('âŒ ä»“åº“æ ¼å¼åº”ä¸º: owner/repo-name');
                return;
            }

            // æ„å»ºæ·±é“¾æ¥
            let url = `ccswitch://v1/import?resource=skill&repo=${encodeURIComponent(repo)}&branch=${encodeURIComponent(branch)}&skills_path=${encodeURIComponent(skillsPath)}`;

            if (directory) {
                url += `&directory=${encodeURIComponent(directory)}`;
            }

            // æ˜¾ç¤ºç»“æœ
            document.getElementById('skillUrl').textContent = url;
            document.getElementById('skillImportBtn').href = url;
            document.getElementById('skillResult').style.display = 'block';

            // æ»šåŠ¨åˆ°ç»“æœ
            document.getElementById('skillResult').scrollIntoView({
                behavior: 'smooth',
                block: 'nearest'
            });
        }

        // å¤åˆ¶ç”Ÿæˆçš„é“¾æ¥
        function copyGeneratedLink(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²å¤åˆ¶ï¼';
                btn.style.background = 'linear-gradient(135deg, #27ae60 0%, #229954 100%)';

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }

        // é€‰ä¸­æ–‡æœ¬ï¼ˆç‚¹å‡» URL æ—¶ï¼‰
        function selectText(element) {
            const range = document.createRange();
            range.selectNodeContents(element);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
        }
    </script>
</body>

</html>
